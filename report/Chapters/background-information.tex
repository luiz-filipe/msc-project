\chapter{Background Information}
\label{ch:background-information}

\section {Social Insects}

Social insects are a great example of how limited agents can tackle very challenging problems when working in unison. Complex behaviour emerges from the interaction between the individual parts of the colony and the environment. They are extremely successful, and \citeauthor{Fittkau1973} argue that even representing only around 2 percent of the known species, they represent approximately  half of the biomass in the central Amazonian rain forest. In his research \citeauthor{erwin1989} has also shown that they constitute 69 percent of all individuals in the canopy of Peruvian rain forest.

This begs the question, how come social insects are so successful? Because the colony is a non-centralised structure, the same task gets to be done by a large number of individuals that in fact can easily switch from one task to another. Large amount of individuals can forage a relatively large amount of food when compared to solitaire insects. Additionally, the genetic loss in the case of a worker gets lost during forage or a predator attack is zero to the colony; and in case of serious danger to the colony, its members are capable of deploying coordinated actions that take nest defence to the next level.

Colonies that present reproductive division of labour within the same generation of individuals are called semi-social, now when there is reproductive division of labor with overlap of generations, the colony fulfils the two requirements for \emph{eusociality}, that is, social organisation with different hierarchical levels.   

Arguably, colonies of social insects are one \emph{superorganism}. This idea was first introduced by \citeauthor{JMOR:JMOR1050220206} in his essay \emph{"The ant-colony as an organism"} \cite{JMOR:JMOR1050220206}. There are many parallels between organism and superorganism. Organisms have cells and organs, while their counterparts in superorganisms are colony members and castes respectively. 

Castes themselves are critical for the division of labour, and therefore for the formation of superorganisms. As \citeauthor{citeulike:3731267} puts it:

\begin{quotation}The superorganism exists in the separate programmed responses of the organisms that compose it. The assembly instructions the organisms follow are the developmental algorithms, which create the castes, together with the behavioural algorithms, which are responsible for moment-to-moment behaviour of the caste members.
\end{quotation}


These behavioural algorithms are full sets of \emph{decision rules} and \emph{decision points} that define an individual's behaviour, that is, its cast. Each casts have different thresholds for different stimuli associated with tasks, what results in specialised work because individuals of different casts will respond differently to the environment around them. For example, a worker picks up food as soon as encounters it, on the other hand an ant belonging to the \emph{Soldier} cast will not pick up any food until it comes across too much food that it is impossible to ignore it, even at this point, if it senses any other stimuli that it has low response threshold to, it is very likely that this ant will drop the food that it has collected and will respond to the stimulus executing a different task.

An ideal division of labour system would have a specialist for each type of task. However, in reality it does not happen \cite{wilson1968} \cite{oster1979caste}. This is because the challenges the environment imposes to the colony requires that ants must change from one role to another as fast as possible in order to be efficient.

\section {Communication}
\label{sec:ant-comm}

Communication is a basic requirement for emergence of complex social systems. \cite{seeley1995wisdom}. Honeybees are known for their extraordinary communication method - they use a vocabulary in which messages are expressed in form of dances. \cite{Bienentanz} But, in more than 90 percent of cases, social insects use some form of chemical signals when communicating. \cite{citeulike:3731267} These chemical signals, pheromones, are laid onto the environment by a different set of glands located throughout the insect's body. 

Another very popular communication method is physical contact - in this case there can be a direct communication between the individuals. For instance, honeybees can get hold of their nest mates using their forearms and vibrate their body to transmit information \cite{allen1959}, or indirect communication, that is an individual transmits information just by interacting with other individuals or/and the environment around them, but with no intention to transmit information. For example, workers of some types of ants can interpret the encounter of ants of another casts as a signal of danger. (((need citation))) There is no direct transmission of information in this case, but it does happen, indirectly.

\subsection{Ants}
\label{sec:com-ants}

In order to efficiently forage on the ground, sometimes even underneath its surface, ants rely heavily on the use of chemicals for communicating, but they also make use of tactile signals and vibrations. \cite{holldobler1999} There are at least 12 functional categories of communication deployed by social insects \cite{citeulike:3731267}:

\begin{enumerate}
  \item Alarm
  \item Attraction
  \item Recruitment
  \item Grooming
  \item Trophallaxis, exchange of fluids
  \item Exchange of solid food
  \item Group effect, induce or inhibit a particular action
  \item Recognition
  \item Caste determination
  \item Reproduction control
  \item Territorial and home orientation
  \item Sexual communication
\end{enumerate}

A more in-depth discussion are presented by \citeauthor{holldobler1990} in \emph{The Ants}.

Ants have evolved to a very high level of sophistication as far as chemical communications is concerned. The fire ant (\emph{Solenopsis invicta}) for example, is known to use around 20 different signals to communicate, from which only 2 are not chemical. \cite{citeulike:3731267} \cite{tschinkel2006fire}

As chemical structures pheromones are volatile and have different diffusion rates. How volatile a chemical signal is affects how much agents will interact with that signal before it fades out. The diffusion rate is also of hight importance because it affects the size of the \emph{active space}, which is the zone that the intensity of a chemical signal is above the threshold concentration necessary to trigger action from the agents. \cite{citeulike:3731267} 

Warning signals, for example, should be highly volatile and have a large range, as it guarantees that enough ants will be recruited to fight. However, because it fades out quickly, if the ants that have already been recruited do not lay more pheromone onto the environment, it will disappear fast enough to avoid over-recruitment. Regarding the direction and forage signals for example, it is important that they have a long lasting effect, so that ants can use them as guides to food sources. However if they were to have a large active zone, they would impede the colony of exploring new areas of the space, 'trapping' the ants only in the are within the signal trails of known food sources.

\section{Emergence}

Emergence is one of the type of concepts that are difficult to define. It is present in many disciplines, such as science, arts and philosophy. It is seen throughout nature in phenomena such as patterns on the sand in the desert and flocks of birds.

A general concept of emergence can be defined as decentralised, local behaviour when seen from a higher perspective aggregates into a global behaviour. As local behaviour is not directly connected to the global behaviour, it does not play any role in the aggregate outcome. Accordingly, the agents, that have local behaviour, do not share a global behaviour as a target.

There are multiple layers of emergence, and this is a crucial concept in understanding complex systems.\cite{miller2007complex} As an illustration to that, one could use any of most of the multi-cellular animals, including ourselves. The theoretical biologist \citeauthor{life1010034} argues that life is an emergent event itself. There are trillions of cells in our body, each of them concerned only with its own very specific context. Many of them are replaced daily, in a couple of years we are very likely to not have any cell that is in our body today, but we will continue to be what we are today, at least physically.

Emergence is not a new concept; it has been around for a long time. A good example of this is the \ac{CLT}, which was first postulated in 1733 by the mathematician Abraham de Moivre. \cite{tijms2007understanding}. In few words the \ac{CLT} states that, if certain conditions are satisfied, the mean of a large number of independent random variables will be distributed following a normal distribution.

\subsection{Types of emergence}

Typically emergence is split into weak and strong. It is possible to say that a phenomenon is strong emergent when it arises from a low-level domain, but the new qualities that these phenomenon bring to the system are irreducible to the system's constituent parts.\cite{laughlin2008different} For an example of strong emergence we can turn to ant colonies. Some ant colonies when defending their queen, recruit workers to create a semi-sphere of ants around the queen, keeping it safe. The resulting global behaviour cannot be traced back to any individual worker. On the other hand, a weak emergence describes properties that can be reducible to its individual constituents. 

\subsection{Feedback}
\label{subsec:feedback}

When agents are interacting to each other, and these interactions are not independent, feedback becomes a very important part of complex systems. If the feedback is positive, disturbance on the system gets amplified, leading to instability. A good example of positive feedback can be borrowed from Chemistry. In case a chemical reaction happens faster at higher temperatures, but the reaction itself releases heat, it is very likely a positive feedback loop will be created and the reaction could lead to explosion very quickly.

On the other hand, if the feedback is negative, any disturbance on the system is absorbed, taking the system to a state of stability. There are many examples of positive feedback in our own body, such as secretion of sweat to regulate body temperature and secretion of a variety of hormones in order to regulate water absorption, salt absorption and so forth.  

\subsection{Decentralised Systems}

Systems that lack a central authority are called decentralised. In their most common form they are self-regulated, they are present in a vast range of domains, from nature to our society. Sock market is one example of such system. Although there are regulatory instruments in place to avoid abuse, the large number of dealers regulate the market as long as the value of shares are concerned. In the case, for some reason, a share is particularly attractive people are likely to buy it. Following the high demand for the share, its price will rise. After a certain point, due its high price, the share will not be as much attractive anymore and agents involved in trading will go after other options. With time the demand for the share will get weaker and its price is likely to go down.

Of course this is an oversimplified version of what actually happens, but the important point here is that the agents involved in process of buying and selling the share regulate its price themselves. They are autonomous in regards making the decision to buy or sell.

Arguably this property is the foundation of emergent systems. The autonomy of the system's components allows complex behaviour to emerge in a way that in centralised system it would not occur, while in cases of centralised systems co-ordination is key. Indeed complex behaviour is capable of emerging in such systems, but only as a byproduct of this co-ordination. \citeauthor{ballerini2008interaction} has shown that a bird, that belongs to a flock, follows the movements of 6 or 7 another birds around it in order to decide how to move.

\section{Agent-based Object Models}

Agent-based modelling has proved to be one of the most relevant research areas in computing in the last decade. Nowadays we are overwhelmed by the amount of information available to us, and the improvements on hardware in the last two decades introduced some of the tools to make use of available information in ways that were not possible before. Agent technology enters the scene taking advantage of these improvements and opens up a whole new world for new technologies to be created and put in use, whether for research or in  commercial applications. Different domains like biology, game theory, stock market and evolutionary computing are using agents extensively nowadays, from simulation on animal populations \cite{Caplat2008491} to predicting market patterns. \cite{andreoni1995}

An agent can be defined as a computational entity that is autonomous and exhibits flexible behaviour. Agents are also responsible over their own internal state. Usually agents are placed in environments that are dynamic and unpredictable. By flexible behaviour three main aspects are of most importance \cite{wooldridge2009introduction} :

\begin{enumerate}
\item Reactive: In most of the applications that agent technology is deployed the environment is not static. That is, it changes over time. A reactive system is capable of responding to the changes in the environment in the best way possible in order to the system to continue operating as it was before the changes had been introduced. 

\item Pro-active: Reacting only to a dynamic environment most of the times is not enough. Agents have a reason to be, something to achieve, a goal. So it is crucial that agents not just react to stimuli from the environment, but take the initiative to achieve their goals.

\item Social: Agents are likely to be deployed in a multi-agent environment, in some cases there can be some goals that are achieved only if agents cooperate with each other. Thus, social ability, that is, being capable of interacting with other agents is vital.
\end{enumerate}

Agent technology provides a variety of standards and tools empowering designers and developers to structure applications around autonomous and communicative components from their concept to their implementation. \cite{al3roadmap}

All in all, agent-oriented modelling offers the best methodology representing complex dynamic systems.

\subsection{Agents and Objects}

It is important to make the distinction between agents and objects. Objects are all about encapsulating state and providing methods to execute operation upon it. Objects do communicate, through messaging or method invocation, but they are passive. Objects and \ac{OOP} are merely the means to build agent systems. Agent-oriented modelling is a whole new programming paradigm. 

\subsection{Agents as a Theoretical Tool}

Another way to see Agent-oriented modelling is as a new kind of tool that empowers us to touch questions that are very difficult to be addressed with traditional tools such as mathematical methods; a tool that is particularly suited to deal with complex social systems.

In comparison with traditional tools, computational models are placed at the other site of the spectrum. Traditional tools are static, precise and timeless; computational models are dynamic, flexible and timely. Even more, computational models are flexible enough in a way that we can add complexity to them in order to gain precision. So it is as if the computational model precision is a variable that we can controlled as needed.

At a first moment it is hard to look at computational models as a science tool of the same level of mathematical methods that have been used for centuries to build great part of our knowledge on the phenomena that surround us. But the problems we are committed to tackle today are different from the ones people were working on in the past and Agent-oriented modelling provides a powerful framework, which by its nature is well suited against this new class of complex problems.

\citeauthor{miller2007complex} presents an in-depth discussion on the contrasts of traditional methods and computational models, as well as a list of the advantages of Agent-oriented modelling over traditional methods. 

\section{Java and Concurrent Programming}

Computational models define entities that are instanced in memory as objects. These entities usually hold state variables that represent a determined state of that object in time. If the state of an object can change over time and this state is somehow shared by more than one thread \emph{synchronisation} is vital. Objects that hold state variables can be \emph{immutable}, their state does not change after their creation. In this case \emph{synchronisation} is not necessary.

\subsection{Synchronisation}

If a state variable is going to be accessed by more than one thread, it must be protected in a way that all accesses coordinated. This is necessary to avoid reading invalid or inconsistent states of the shared variable. This is basic rule that one must follow when designing objects which are going to be used in shared environments that make use of multiple threads.

The Java language offers many different tools to tackle the problem of publishing objects safely in the case they will be accessed by more than one thread simultaneously. At the core of this toolset is the \emph{synchronized} keyword. It is used to define high-level exclusive locking. Atomic types, standard libraries, such as synchronised lists and \emph{volatile} variables can also be used to implement coordination when accessing shared states at a high-level. The use of low-level technics such as semaphores and custom synchronisers are avoidable in the vast majority of cases. Concurrent programming is at the heart of the Java language and unless the user is creating a library or working in very specialised contexts, all the necessary tools are provided by the language at high-level, making it very use to implement very complex concurrent systems.

A very common problem in concurrent systems is the so-called \emph{race conditions}. \citeauthor{goetz2006java} defines race conditions as follows:

\begin{quote}
   A race condition occurs when the correctness of a computation depends on the relative timing or interleaving of multiple threads by the runtime; in other words, when getting the right answer relies on lucky timing.
\end{quote}

\emph{Check-then-act} conditions serve as the classic illustration of the problem. Given that thread $A$ checks if a variable $X$ is $0$, if that is true, thread $A$ changes the value of that variable to $1$. In case of a situation when thread $A$ reads the value of variable $X$ and gets $0$ as answer, but a moment after this thread $B$ changes the value of $X$ to $-1$. As far as thread $A$ is concerned the value of $X$ is still $0$, therefore it should be changed to $1$, but we know that it is not the case anymore. This problem can lead very complex models to an inconsistent state generating errors that are very difficult to be isolated and corrected. 

Thread coordination can solve the problem, and the most common way to synchronise threads access of shared state is by the usage of \emph{intrinsic locks}. They are defined by the \emph{synchronized} keyword and a reference to an object that will be the lock. \emph{Intrinsic locks} are also called \emph{monitor locks} and they act as \emph{mutual exclusive (mutex)} locks. Therefore a thread might end up holding a lock forever, making other threads to wait indefinitely, creating a \emph{deadlock}. 

The fundamental characteristic of intrinsic locks is that they are \emph{reentrant}, meaning that if a thread that already holds a lock and tries to acquire it again it will be successful. In contrast to \emph{pthreads} that grant locks on per-invocation basis \cite{butenhof1997programming}, Java locks are granted on a per-thread basis. This greatly facilitates the development of object-oriented concurrent systems. \cite{goetz2006java}

\subsection{Threads And Task Execution}
\label{subsec:threads-task-exec}

In Java terms, threads are the mechanisms that are used to run tasks asynchronously, and it is a common mistake to think that the \emph{Thread} class is the primary abstraction for task execution in the language, but in fact the \emph{Executor} interface is. It is the base of a powerful task execution framework. It is important to note though that the executors follow the producer-consumer pattern.

Java provides the \emph{Executors} factory to create thread pools for task execution. Using thread pools has many advantages over manually managing threads' lifecycle. It is possible to reuse threads to execute more than one task, what minimises the cost of creating and stopping threads, speeding up task execution. There are four methods provided by the \emph{Executors} factory for creating thread pools. For this project the most important are: \emph{newFixedThreadPool} and \emph{newScheduledThreadPool}. The former create a fixed-sized thread pool, tasks are executed as soon as submitted. When the fixed limit number is reached the tasks have to wait until a thread is available to execute. The latter also allows the creation of fixed-size thread pool, but in this case the pool supports delayed and periodic task execution.

The basic representation of a task in Java is the \emph{Runnable} interface, but tasks implementing \emph{Runnable} are not able to return a value or throw checked exceptions.\cite{goetz2006java} Now when the \emph{Callable} interface is a richer abstraction of tasks, they allow the task to return a value and to throw checked exceptions. 

Tasks executed by an \emph{Executor} can have various states. As far as this project is concerned, these states are not critical, because all the simulations are run to investigate the colony at a point in time only, so in all the cases, the thread pools will be created to the size of the number of agents necessary to run the simulation.

AS the \emph{Future} interface is an abstraction of the state of a task moving forward, it provides useful methods to manage and retrieve results of tasks. Perhaps for social insects, the most popular of them is search optimisation.

So the natural way of executing tasks is to create a thread pool using an \emph{Executor} such as \emph{ExecutorService}, and then submitting tasks to it - any classes that implement \emph{Runnable} or \emph{Callable}. The methods used for task submission are likely to return \emph{Future} objects that represent the task state. These objects can be used for a variety of things, e.g. exception checking.

\section{Applications}

The applications of the knowledge gained by researching social insects and agents are present in solutions for a wide range of problems. Perhaps, for social insects, the most popular application is search optimisation. \citeauthor{dorigo-phd} \cite{dorigo-phd} in partnership with \citeauthor{citeulike:5791708} \cite{citeulike:5791708, citeulike:7034555, citeulike:832379} introduced the idea for ants in particular. \citeauthor{Dorigo97antcolony} \cite{Dorigo97antcolonies, Dorigo97antcolony} execute a comparison analysis on the application of \ac{ACS} against other nature-inspired methods as well as to more traditional algorithms for the traveling salesman traveling problem. 

Another example of application of \ac{ACO} is routing in telecommunication networks. \citeauthor{Schoonderwoerd96ant-basedload} \cite{Schoonderwoerd96ant-basedload} introduced \ac{ABC} for telephone networks. Further development on \ac{ABC} has been proposed by \citeauthor{Heusse98adaptiveagent-driven} \cite{Heusse98adaptiveagent-driven} and \citeauthor{Subramanian98antsand} \cite{Subramanian98antsand}. Another algorithm for routing has been proposed by \citeauthor{Caro98antnet:distributed} \cite{Caro98antnet:distributed, Caro97antnet:a, DiCaro:1998:ADS:1622797.1622806}, in contrast to  \ac{ABC} these new algorithm, called \emph{AntNet}, can bee applied to networks that are either connection-oriented or connectionless, such as packet-switching networks.

Based on corpse clustering and larval sorting \citeauthor{citeulike:1646663} \cite{citeulike:1646663} has proposed two clustering models.  \citeauthor{lumer_faieta_1994} \cite{lumer_faieta_1994} have extended \citeauthor{citeulike:1646663}'s work to apply it to data analysis.

Some lessons learned from social insects on self-assembly have been applied on the creation of self-assembling robots. \citeauthor{100066} \cite{100066} was the first person to propose the idea of self-assembly to the robotic field. \cite{bonabeau1999swarm}. \emph{Metamorphic} robots \cite{Chirikjian94} are one of the main research lines on self-assembly robotics. Although this area of study is not directly inspired on social insects, they share many common features such as the simplicity of the agents and access only to local information.

More recently \citeauthor{Dorigo05swarm-bot:an} \cite{Dorigo05swarm-bot:an} has experimented self-assembling robots against tasks that require physical cooperation and coordination coordination. An overview of the \emph{Swarm-bot} \cite{Dorigo05swarm-bot:an} is presented by \citeauthor{6094854} \cite{6094854}.





